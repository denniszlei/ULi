# ============================================
# uni-load-improved Docker环境变量配置示例
# ============================================
# 复制此文件为 .env 并修改配置

# ============ 基础配置 ============
# 主机地址
UNI_LOAD_HOST=0.0.0.0

# 端口配置
UNI_LOAD_PORT=8080
GPT_LOAD_PORT=3001
UNI_API_PORT=8000

# 调试模式
DEBUG=false

# ============ 服务模式 ============
# internal: 在同一容器内运行服务
# external: 连接到外部服务
GPT_LOAD_MODE=internal
UNI_API_MODE=internal

# ============ 外部服务配置 ============
# 仅在 external 模式下使用
# GPT_LOAD_URL=http://external-gpt-load:3001
# UNI_API_URL=http://external-uni-api:8000

# ============ 数据库配置 ============
DATABASE_URL=sqlite:////app/data/uni-load.db

# 如果使用PostgreSQL（可选）
# DATABASE_URL=postgresql://user:password@postgres:5432/uniload

# 如果使用MySQL（可选）
# DATABASE_URL=mysql://user:password@mysql:3306/uniload

# ============ 健康检查配置 ============
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=300
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_RETRY=3

# ============ 日志配置 ============
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/uni-load.log

# 日志级别选项: DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============ 安全配置 ============
# 密钥（生产环境必须修改！）
SECRET_KEY=change-this-secret-key-in-production-environment

# API密钥（可选，用于保护管理接口）
# API_KEY=your-api-key-here

# ============ 性能配置 ============
# Worker进程数
WORKERS=4

# 最大并发请求数
MAX_CONCURRENT_REQUESTS=100

# 请求超时时间（秒）
REQUEST_TIMEOUT=60

# ============ gpt-load配置 ============
# gpt-load配置文件路径
GPT_LOAD_CONFIG=/app/config/gpt-load.yaml

# gpt-load日志级别
GPT_LOAD_LOG_LEVEL=info

# ============ uni-api配置 ============
# uni-api配置文件路径
UNI_API_CONFIG=/app/config/uni-api.yaml

# uni-api日志级别
UNI_API_LOG_LEVEL=info

# ============ 模型标准化配置 ============
# 是否启用模型名称标准化
MODEL_NORMALIZATION_ENABLED=true

# 是否转换为小写
MODEL_NORMALIZATION_LOWERCASE=true

# ============ 备份配置 ============
# 自动备份间隔（小时）
AUTO_BACKUP_INTERVAL=24

# 保留备份数量
BACKUP_RETENTION_COUNT=7

# ============ 监控配置 ============
# 是否启用Prometheus指标
ENABLE_METRICS=false

# Prometheus指标端口
METRICS_PORT=9090

# ============ CORS配置 ============
# 允许的源（逗号分隔）
CORS_ORIGINS=*

# 允许的方法
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# 允许的头
CORS_HEADERS=*

# ============ 速率限制 ============
# 是否启用速率限制
RATE_LIMIT_ENABLED=false

# 每分钟请求数限制
RATE_LIMIT_PER_MINUTE=60

# ============ 缓存配置 ============
# 是否启用缓存
CACHE_ENABLED=true

# 缓存类型: memory, redis
CACHE_TYPE=memory

# Redis配置（如果使用Redis缓存）
# REDIS_URL=redis://redis:6379/0

# 缓存过期时间（秒）
CACHE_TTL=3600

# ============ 时区配置 ============
TZ=Asia/Shanghai